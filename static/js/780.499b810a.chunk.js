"use strict";(globalThis.webpackChunkmarvel_react=globalThis.webpackChunkmarvel_react||[]).push([[780],{3087:(e,s,a)=>{a.d(s,{Z:()=>t});var r=a(184);function t(e){const{value:s,type:a,background:t,link:c,click:n,disabled:i}=e,l=e.classList?e.classList:"",o=(0,r.jsx)("div",{className:`marvel${t}Back`,children:s}),d={button:(0,r.jsx)("button",{onClick:n,type:a||null,className:`commonBut back${t} ${l}`,children:o}),butDisabled:(0,r.jsx)("button",{onClick:n,className:`commonBut back${t} ${l}`,disabled:!0,children:o}),link:(0,r.jsx)("a",{href:c,target:"_blank",rel:"noreferrer",className:`commonBut back${t} ${l}`,children:o})},h=c?d.link:null,u=i?d.butDisabled:null,m=i||c?null:d.button;return(0,r.jsxs)(r.Fragment,{children:[h,m,u]})}},9215:(e,s,a)=>{a.d(s,{Z:()=>n});var r=a(2791),t=a(7454),c=a(184);class n extends r.Component{constructor(){super(...arguments),this.state={error:!1}}componentDidCatch(){this.setState({error:!0})}render(){return this.state.error?(0,c.jsx)(t.Z,{}):this.props.children}}},7454:(e,s,a)=>{a.d(s,{Z:()=>c});var r=a(5551),t=a(184);function c(){return(0,t.jsx)("img",{src:r,alt:"Error",style:{width:"100%"}})}},3780:(e,s,a)=>{a.r(s),a.d(s,{default:()=>y});var r=a(226),t=a(2791),c=a(6907),n=a(4077),i=a(3087),l=a(6126),o=a(8226),d=a(184);function h(){const[e,s]=(0,t.useState)({}),{getCharacter:a,clearErrors:r,process:c,setProcess:h}=(0,l.Z)();(0,t.useEffect)((()=>{p()}),[]);const m=e=>{s(e)},p=()=>{r();const e=Math.floor(400*Math.random()+1011e3);a(e).then(m).then((()=>h("success")))};return(0,d.jsxs)("div",{className:"charPreinfoWrapper",children:[(0,d.jsx)("div",{className:"preInfoWrapper",children:(0,o.Z)(c,u,e)}),(0,d.jsxs)("div",{className:"randomCharacterWrapper",children:[(0,d.jsx)("img",{src:n,alt:"shield and hammer"}),(0,d.jsxs)("div",{className:"randomCharacterContainer",children:[(0,d.jsx)("p",{children:"Random character for today! Do you want to get to know him better?"}),(0,d.jsx)("p",{children:"Or choose another one"}),(0,d.jsx)(i.Z,{click:p,value:"try it",background:"Red"})]})]})]})}const u=e=>{let{data:s}=e;const{name:a,description:r,thumbnail:t,homepage:c,wiki:n}=s;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("img",{className:"preInfoImg",src:t,alt:`${a}`}),(0,d.jsxs)("div",{className:"preInfoContainer",children:[(0,d.jsx)("h3",{children:a}),(0,d.jsx)("div",{className:"preInfoDescriptionOverflow",children:(0,d.jsx)("p",{className:"preInfoDescription",children:r})}),(0,d.jsxs)("div",{className:"preInfoLinkContainer",children:[(0,d.jsx)(i.Z,{value:"homepage",link:c,classList:"preInfoBut",background:"Red"}),(0,d.jsx)(i.Z,{value:"wiki",link:n,background:"Grey"})]})]})]})};a(1408);var m=a(7454),p=a(8684);function x(e){const{loading:s,setMaxChars:a,getAllCharacters:r,clearErrors:c,process:n,setProcess:o}=(0,l.Z)(),[h,u]=(0,t.useState)([]),[x,j]=(0,t.useState)(0),[g,v]=(0,t.useState)(!1),[N,f]=(0,t.useState)(10);(0,t.useEffect)((()=>{0===h.length&&a().then((e=>f(e))).then((()=>b(x)))}),[]);const b=e=>{c(),r(9,e).then(k).then((()=>o("success"))),j((e=>e+9))},k=e=>{const s=x+9>=N;u([...h,...e]),v(s)},C=(0,t.useRef)([]),$=s=>s.map(((s,a)=>(0,d.jsxs)("div",{className:"charWrapper",tabIndex:0,ref:e=>C.current[a]=e,onClick:()=>{e.onCharSelect(s.id),(e=>{C.current.forEach((e=>e.classList.remove("charSelected"))),C.current[e].classList.add("charSelected"),C.current[e].focus()})(a)},children:[(0,d.jsx)("img",{src:s.thumbnail,alt:s.name}),(0,d.jsx)("h3",{className:"characterHeader",children:s.name})]},s.id))),w=(0,t.useMemo)((()=>function(e,s,a){switch(e){case"waiting":return(0,d.jsx)("div",{className:"loadingWrapper",children:(0,d.jsx)(p.Z,{})});case"loading":return a.length>0?(0,d.jsx)(s,{}):(0,d.jsx)("div",{className:"loadingWrapper",children:(0,d.jsx)(p.Z,{})});case"success":return(0,d.jsx)(s,{data:a});case"error":return(0,d.jsx)(m.Z,{});default:throw new Error("Unexpected process state")}}(n,(()=>$(h)),h)),[n]);return(0,d.jsxs)("div",{className:"charactersListWrapper",children:[(0,d.jsx)("div",{className:"charactersListContainer",children:w}),(0,d.jsx)("div",{className:"longButContainer",children:(0,d.jsx)(i.Z,{value:"load more",click:()=>b(x+9),disabled:s,background:"Red",classList:"longBut "+(g?"hidden":"")})})]})}var j=a(5044),g=a(3504);function v(e){const{name:s,link:a}=e,r=a.match(/[0-9]{1,}$/gm)[0];return(0,d.jsx)("div",{className:"comicsWrapper",children:(0,d.jsx)(g.rU,{to:`/comics/${r}`,children:s})})}function N(e){const[s,a]=(0,t.useState)(null),{process:r,setProcess:c,getCharacter:n}=(0,l.Z)();return(0,t.useEffect)((()=>{e.charId&&n(e.charId).then((e=>a(e))).then((()=>c("success")))}),[e.charId]),(0,d.jsx)("div",{className:"characterDescriptionMainWrapper",children:(0,o.Z)(r,f,s)})}const f=e=>{let{data:s}=e;const{name:a,description:r,thumbnail:t,homepage:c,wiki:n,comics:l}=s,o=l.map(((e,s)=>s>9?null:(0,d.jsx)(v,{name:e.name,link:e.resourceURI},(0,j.ZP)()))),h=(0,d.jsx)("div",{className:"emptyComics",children:"No comics found"}),u=0===o.length?h:o;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"characterDescriptionWrapper",children:[(0,d.jsxs)("div",{className:"characterDescriptionContainer",children:[(0,d.jsx)("img",{src:t,alt:a}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"characterDescriptionHeader",children:a}),(0,d.jsxs)("div",{className:"characterDescriptionButsContainer",children:[(0,d.jsx)(i.Z,{value:"homepage",link:c,background:"Red"}),(0,d.jsx)(i.Z,{value:"wiki",link:n,background:"Grey"})]})]})]}),(0,d.jsx)("div",{children:(0,d.jsx)("p",{children:r})})]}),(0,d.jsxs)("div",{className:"comicsListWrapper",children:[(0,d.jsx)("h4",{className:"comicsHeader",children:"Comics:"}),(0,d.jsx)("div",{className:"comicsListContainer",children:u})]})]})};var b=a(1724),k=a(5705);function C(e,s,a){switch(e){case"success":return(0,d.jsx)(s,{data:a});case"notFound":return(0,d.jsx)("div",{className:"errorChar",children:"The character was not found. Check the name and try again"});case"error":return(0,d.jsx)("div",{className:"errorChar",children:"Error Fetching"});default:return}}function $(){const{loading:e,getCharacterByName:s,process:a,setProcess:r}=(0,l.Z)(),[c,n]=(0,t.useState)(null),o=e=>{n(e)};return(0,d.jsxs)("div",{className:"charSearchWrapper",children:[(0,d.jsx)("h3",{className:"charSearchHeader",children:"Or find a character by name:"}),(0,d.jsx)(k.J9,{initialValues:{charName:""},validationSchema:b.Ry({charName:b.Z_().min(2,"Too short name").required("Required field")}),onSubmit:e=>{return a=e.charName,void s(a).then(o).then((()=>r("success"))).catch((e=>{"Character not found"===e.message&&r("notFound")}));var a},children:(0,d.jsxs)(k.l0,{children:[(0,d.jsxs)("div",{className:"charSearchForm",children:[(0,d.jsx)(k.gN,{className:"charSearchInput",type:"text",name:"charName",id:"charName",placeholder:"Enter Name"}),(0,d.jsx)(i.Z,{value:"FIND",background:"Red",disabled:e,type:"submit"})]}),(0,d.jsx)(k.Bc,{className:"errorChar",component:"div",name:"charName"}),C(a,w,c)]})})]})}function w(e){let{data:s}=e;const{name:a,id:r}=s;return(0,d.jsxs)("div",{className:"successCharWrapper",children:[(0,d.jsx)("div",{className:"successChar",children:`There is! Visit ${a} page?`}),(0,d.jsx)(g.rU,{className:"successChar",to:`/character/${r}`,children:(0,d.jsx)(i.Z,{value:"TO PAGE",background:"Grey"})})]})}var Z=a(9215);function y(){const[e,s]=(0,t.useState)(null);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(c.B6,{children:(0,d.jsxs)(c.ql,{children:[(0,d.jsx)("meta",{name:"description",content:"Marvel Database"}),(0,d.jsx)("title",{children:"Marvel Database"})]})}),(0,d.jsx)(Z.Z,{children:(0,d.jsx)(h,{})}),(0,d.jsxs)("div",{className:"flex-row mainContainer",children:[(0,d.jsx)(Z.Z,{children:(0,d.jsx)(x,{onCharSelect:e=>{s(e)}})}),(0,d.jsxs)("div",{className:"rightMainContent",children:[(0,d.jsx)(Z.Z,{children:(0,d.jsx)(N,{charId:e})}),(0,d.jsx)(Z.Z,{children:(0,d.jsx)($,{})})]})]}),(0,d.jsx)("img",{src:r,className:"visionBg",alt:"vision bg"})]})}},6126:(e,s,a)=>{a.d(s,{Z:()=>t});var r=a(2791);function t(){const{loading:e,process:s,setProcess:a,request:t,clearErrors:c}=(()=>{const[e,s]=(0,r.useState)(!1),[a,t]=(0,r.useState)("waiting"),c=(0,r.useCallback)((async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{"Content-Type":"application/json"};s(!0),t("loading");try{const t=await fetch(e,{method:a,body:r,headers:c});if(!t.ok)throw new Error(`Couldnt fetch (${e}), status: ${t.status}`);const n=t.json();return s(!1),n}catch(n){throw s(!1),t("error"),n}}),[]),n=(0,r.useCallback)((()=>{t("loading")}),[]);return{loading:e,process:a,setProcess:t,request:c,clearErrors:n}})(),n="https://gateway.marvel.com:443/v1/public/",i="apikey=36f1abc750cc1a335225f4c72681de4e",l=e=>({name:e.name,id:e.id,description:e.description?e.description:"No description",thumbnail:`${e.thumbnail.path}.${e.thumbnail.extension}`,homepage:e.urls[0].url,wiki:e.urls[1].url,comics:e.comics.items}),o=e=>{const{id:s,title:a,thumbnail:r,pageCount:t,description:c,prices:n,textObjects:i}=e;return{id:s,title:a,thumbnail:`${r.path}.${r.extension}`,pageCount:t?`${t} pages`:"No information about pages",description:c||"No description",language:i[0]?i[0].language:"no information",price:n[0].price?`${n[0].price}$`:"Not available"}};return{loading:e,process:s,setProcess:a,clearErrors:c,setMaxChars:async()=>(await t(`${n}characters?limit=1&${i}`)).data.total,getAllCharacters:async function(e){let s,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(e||+e||e>0||e<=100)&&(s=`limit=${e}`);const r=await t(`${n}characters?${s}&offset=${a}&${i}`);return r.data.results.map((e=>l(e)))},getCharacter:async e=>{const s=await t(`${n}characters/${e}?${i}`);return l(s.data.results[0])},getCharacterByName:async e=>{const s=await t(`${n}characters?name=${e}&${i}`);if(console.log(s),s.data.results[0])return l(s.data.results[0]);throw new Error("Character not found")},getAllComics:async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const a=await t(`${n}comics?issueNumber=0&offset=${s}&limit=${e}&${i}`);return a.data.results.map((e=>o(e)))},getComic:async e=>{const s=await t(`${n}comics/${e}?${i}`);return o(s.data.results[0])}}}},8226:(e,s,a)=>{a.d(s,{Z:()=>i});var r=a(184);function t(e){return(0,r.jsxs)("div",{className:"skeletonWrapper",children:[(0,r.jsx)("h3",{className:"skeletonHeader",children:"Please select a character to see information"}),(0,r.jsxs)("div",{className:"skeletonContainer",children:[(0,r.jsxs)("div",{className:"skeletonChar",children:[(0,r.jsx)("div",{className:"skeletonRound"}),(0,r.jsx)("div",{className:"skeletonEmptyHeader"})]}),(0,r.jsx)("div",{className:"skeletonComics"}),(0,r.jsx)("div",{className:"skeletonComics"}),(0,r.jsx)("div",{className:"skeletonComics"})]})]})}var c=a(8684),n=a(7454);function i(e,s,a){switch(e){case"waiting":return(0,r.jsx)(t,{});case"loading":return(0,r.jsx)(c.Z,{});case"success":return(0,r.jsx)(s,{data:a});case"error":return(0,r.jsx)(n.Z,{});default:throw new Error("Unexpected process state")}}},1408:()=>{},5551:(e,s,a)=>{e.exports=a.p+"static/media/404Error.47a8d543fe185d4f2e29.png"},4077:(e,s,a)=>{e.exports=a.p+"static/media/shield and hammer.439ab19cfabed7d9d9b8.png"},226:(e,s,a)=>{e.exports=a.p+"static/media/visionBg.8de497492999c5d20b03.png"}}]);
//# sourceMappingURL=780.499b810a.chunk.js.map