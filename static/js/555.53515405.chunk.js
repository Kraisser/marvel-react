"use strict";(globalThis.webpackChunkmarvel_react=globalThis.webpackChunkmarvel_react||[]).push([[555],{3087:(e,t,r)=>{r.d(t,{Z:()=>s});var a=r(184);function s(e){const{value:t,type:r,background:s,link:n,click:c,disabled:i}=e,l=e.classList?e.classList:"",o=(0,a.jsx)("div",{className:`marvel${s}Back`,children:t}),u={button:(0,a.jsx)("button",{onClick:c,type:r||null,className:`commonBut back${s} ${l}`,children:o}),butDisabled:(0,a.jsx)("button",{onClick:c,className:`commonBut back${s} ${l}`,disabled:!0,children:o}),link:(0,a.jsx)("a",{href:n,target:"_blank",rel:"noreferrer",className:`commonBut back${s} ${l}`,children:o})},d=n?u.link:null,m=i?u.butDisabled:null,h=i||n?null:u.button;return(0,a.jsxs)(a.Fragment,{children:[d,h,m]})}},6837:(e,t,r)=>{r.d(t,{Z:()=>c});var a=r(8689),s=r(4124),n=r(184);function c(){return(0,n.jsxs)("div",{className:"bannerWrapper",children:[(0,n.jsx)("img",{src:a,alt:"avengers"}),(0,n.jsxs)("div",{className:"bannerHeadersWrapper",children:[(0,n.jsx)("h3",{className:"bannerHeader",children:"New comics Every week!"}),(0,n.jsx)("h3",{className:"bannerHeader",children:"Stay tuned!"})]}),(0,n.jsx)("img",{src:s,alt:"avengersLogo"})]})}},9215:(e,t,r)=>{r.d(t,{Z:()=>c});var a=r(2791),s=r(7454),n=r(184);class c extends a.Component{constructor(){super(...arguments),this.state={error:!1}}componentDidCatch(){this.setState({error:!0})}render(){return this.state.error?(0,n.jsx)(s.Z,{}):this.props.children}}},7454:(e,t,r)=>{r.d(t,{Z:()=>n});var a=r(5551),s=r(184);function n(){return(0,s.jsx)("img",{src:a,alt:"Error",style:{width:"100%"}})}},3555:(e,t,r)=>{r.r(t),r.d(t,{default:()=>b});var a=r(2791),s=r(5044),n=r(3504),c=r(184);function i(e){const{thumbnail:t,title:r,price:a}=e;return(0,c.jsxs)("div",{className:"comicsItemWrapper",children:[(0,c.jsx)("img",{src:t,alt:r}),(0,c.jsx)("h4",{children:r}),(0,c.jsx)("span",{children:a})]})}var l=r(3087),o=r(7454),u=r(6126),d=r(6837),m=r(8684);function h(){const{loading:e,error:t,getAllComics:r,clearErrors:h}=(0,u.Z)(),[p,g]=(0,a.useState)([]),[b,x]=(0,a.useState)(0);(0,a.useEffect)((()=>{f()}),[]);const f=()=>{h(),r(8,b).then((e=>(e=>{g([...p,...e])})(e))),x((e=>e+8))},j=p.map((e=>(e=>(0,c.jsx)(n.rU,{to:`/comics/${e.id}`,children:(0,c.jsx)(i,{thumbnail:e.thumbnail,title:e.title,price:e.price})},(0,s.ZP)()))(e))),v={loading:(0,c.jsx)("div",{className:"loadingWrapper",children:(0,c.jsx)(m.Z,{},s.ZP)}),error:(0,c.jsxs)("div",{className:"loadingWrapper error",children:[(0,c.jsx)(o.Z,{}),(0,c.jsx)("h3",{children:"Error, try again"})]})},$=(e||t)&&0===j.length?null:(0,c.jsx)("div",{className:"comicsItemsWrapper",children:j}),k=e?v.loading:null,C=t?v.error:null;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(d.Z,{}),(0,c.jsxs)("div",{children:[$,k,C,(0,c.jsx)("div",{className:"loadButWrapper",onClick:f,children:(0,c.jsx)(l.Z,{value:"Load more",background:"Red",disabled:e})})]})]})}var p=r(9215),g=r(6907);function b(){return(0,c.jsxs)(p.Z,{children:[(0,c.jsx)(g.B6,{children:(0,c.jsxs)(g.ql,{children:[(0,c.jsx)("meta",{name:"description",content:"Comics list"}),(0,c.jsx)("title",{children:"Marvel Comics list"})]})}),(0,c.jsx)(h,{})]})}},6126:(e,t,r)=>{r.d(t,{Z:()=>s});var a=r(2791);function s(){const{loading:e,error:t,request:r,clearErrors:s}=(()=>{const[e,t]=(0,a.useState)(!1),[r,s]=(0,a.useState)(null);return{loading:e,error:r,request:(0,a.useCallback)((async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{"Content-Type":"application/json"};t(!0);try{const s=await fetch(e,{method:r,body:a,headers:n});if(!s.ok)throw new Error(`Couldnt fetch (${e}), status: ${s.status}`);const c=s.json();return t(!1),c}catch(c){throw t(!1),s(c.message),c}}),[]),clearErrors:(0,a.useCallback)((()=>s(null)),[])}})(),n="https://gateway.marvel.com:443/v1/public/",c="apikey=36f1abc750cc1a335225f4c72681de4e",i=e=>({name:e.name,id:e.id,description:e.description?e.description:"No description",thumbnail:`${e.thumbnail.path}.${e.thumbnail.extension}`,homepage:e.urls[0].url,wiki:e.urls[1].url,comics:e.comics.items}),l=e=>{const{id:t,title:r,thumbnail:a,pageCount:s,description:n,prices:c,textObjects:i}=e;return{id:t,title:r,thumbnail:`${a.path}.${a.extension}`,pageCount:s?`${s} pages`:"No information about pages",description:n||"No description",language:i[0]?i[0].language:"no information",price:c[0].price?`${c[0].price}$`:"Not available"}};return{loading:e,error:t,setMaxChars:async()=>(await r(`${n}characters?limit=1&${c}`)).data.total,getAllCharacters:async function(e){let t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(e||+e||e>0||e<=100)&&(t=`limit=${e}`);const s=await r(`${n}characters?${t}&offset=${a}&${c}`);return s.data.results.map((e=>i(e)))},getCharacter:async e=>{const t=await r(`${n}characters/${e}?${c}`);return i(t.data.results[0])},getCharacterByName:async e=>{console.log(e);const t=await r(`${n}characters?name=${e}&${c}`);return!!t.data.results[0]&&i(t.data.results[0])},getAllComics:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const a=await r(`${n}comics?issueNumber=0&offset=${t}&limit=${e}&${c}`);return a.data.results.map((e=>l(e)))},getComic:async e=>{const t=await r(`${n}comics/${e}?${c}`);return l(t.data.results[0])},clearErrors:s}}},5044:(e,t,r)=>{function a(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var s=a(r(2791)),n="id",c=0;function i(e){return c++,"".concat(e||n).concat(c)}var l=function(e,t){for(var r=[],a=0;a<e;a++)r.push(i(t));return r};function o(e){var t=s.default.useRef();return s.default.useEffect((function(){t.current=e})),t.current}t.ZP=i},5551:(e,t,r)=>{e.exports=r.p+"static/media/404Error.47a8d543fe185d4f2e29.png"},4124:(e,t,r)=>{e.exports=r.p+"static/media/Avengers logo.a0e4cca1091366da37c4.png"},8689:(e,t,r)=>{e.exports=r.p+"static/media/Avengers.539407e2a471db3a37c9.png"}}]);
//# sourceMappingURL=555.53515405.chunk.js.map