"use strict";(globalThis.webpackChunkmarvel_react=globalThis.webpackChunkmarvel_react||[]).push([[27],{3087:(e,a,s)=>{s.d(a,{Z:()=>n});var r=s(184);function n(e){const{value:a,type:s,background:n,link:c,click:t,disabled:i}=e,l=e.classList?e.classList:"",o=(0,r.jsx)("div",{className:`marvel${n}Back`,children:a}),d={button:(0,r.jsx)("button",{onClick:t,type:s||null,className:`commonBut back${n} ${l}`,children:o}),butDisabled:(0,r.jsx)("button",{onClick:t,className:`commonBut back${n} ${l}`,disabled:!0,children:o}),link:(0,r.jsx)("a",{href:c,target:"_blank",rel:"noreferrer",className:`commonBut back${n} ${l}`,children:o})},h=c?d.link:null,m=i?d.butDisabled:null,u=i||c?null:d.button;return(0,r.jsxs)(r.Fragment,{children:[h,u,m]})}},9215:(e,a,s)=>{s.d(a,{Z:()=>t});var r=s(2791),n=s(7454),c=s(184);class t extends r.Component{constructor(){super(...arguments),this.state={error:!1}}componentDidCatch(){this.setState({error:!0})}render(){return this.state.error?(0,c.jsx)(n.Z,{}):this.props.children}}},7454:(e,a,s)=>{s.d(a,{Z:()=>c});var r=s(5551),n=s(184);function c(){return(0,n.jsx)("img",{src:r,alt:"Error",style:{width:"100%"}})}},8027:(e,a,s)=>{s.r(a),s.d(a,{default:()=>w});var r=s(226),n=s(2791),c=s(6907),t=s(5044),i=s(4077),l=s(3087),o=s(8684),d=s(7454),h=s(6126),m=s(184);function u(){const[e,a]=(0,n.useState)({}),{loading:s,error:r,getCharacter:c,clearErrors:u}=(0,h.Z)(),p={error:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(d.Z,{}),(0,m.jsx)("h2",{children:"404"})]}),loading:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(o.Z,{},(0,t.ZP)()),(0,m.jsx)(o.Z,{},(0,t.ZP)())]})};(0,n.useEffect)((()=>{g()}),[]);const j=e=>{a(e)},g=()=>{u();const e=Math.floor(400*Math.random()+1011e3);c(e).then(j)},v=r?p.error:null,N=s?p.loading:null,b=r||s?null:x(e);return(0,m.jsxs)("div",{className:"charPreinfoWrapper",children:[(0,m.jsxs)("div",{className:"preInfoWrapper",children:[v,N,b]}),(0,m.jsxs)("div",{className:"randomCharacterWrapper",children:[(0,m.jsx)("img",{src:i,alt:"shield and hammer"}),(0,m.jsxs)("div",{className:"randomCharacterContainer",children:[(0,m.jsx)("p",{children:"Random character for today! Do you want to get to know him better?"}),(0,m.jsx)("p",{children:"Or choose another one"}),(0,m.jsx)(l.Z,{click:g,value:"try it",background:"Red"})]})]})]})}const x=e=>{const{name:a,description:s,thumbnail:r,homepage:n,wiki:c}=e;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("img",{className:"preInfoImg",src:r,alt:`${a}`}),(0,m.jsxs)("div",{className:"preInfoContainer",children:[(0,m.jsx)("h3",{children:a}),(0,m.jsx)("div",{className:"preInfoDescriptionOverflow",children:(0,m.jsx)("p",{className:"preInfoDescription",children:s})}),(0,m.jsxs)("div",{className:"preInfoLinkContainer",children:[(0,m.jsx)(l.Z,{value:"homepage",link:n,classList:"preInfoBut",background:"Red"}),(0,m.jsx)(l.Z,{value:"wiki",link:c,background:"Grey"})]})]})]})};var p=s(1776);function j(e){const{thumbnail:a,name:s,id:r,focus:c,onFocusChar:t}=e,i=(0,n.useRef)(null),l=c?"charSelected":"";return(0,m.jsx)(p.Z,{timeout:300,in:!!r,nodeRef:i,classNames:"charWrapper-anim",appear:!0,children:(0,m.jsxs)("div",{ref:i,className:`charWrapper ${l}`,tabIndex:"0",onClick:()=>t(r),children:[(0,m.jsx)("img",{src:a,alt:s}),(0,m.jsx)("h3",{className:"characterHeader",children:s})]})})}function g(e){const{loading:a,error:s,setMaxChars:r,getAllCharacters:c,clearErrors:i}=(0,h.Z)(),[u,x]=(0,n.useState)([]),[p,g]=(0,n.useState)(0),[v,N]=(0,n.useState)(!1),[b,f]=(0,n.useState)(10),[k,C]=(0,n.useState)(null);function $(a){C(a),x(Z(u)),e.onCharSelect(a)}(0,n.useEffect)((()=>{0===u.length&&(r().then((e=>f(e))),y(p))}),[]);const Z=a=>a.map((a=>({name:a.name,id:a.id,focus:a.id===e.focusCharId,thumbnail:a.thumbnail,key:(0,t.ZP)()}))),y=e=>{i(),c(9,e).then(w),g((e=>e+9))},w=e=>{const a=p+9>=b,s=Z(e);x([...u,...s]),N(a)},S=u.map((e=>(0,m.jsx)(j,{name:e.name,id:e.id,focus:e.id===k,thumbnail:e.thumbnail,onFocusChar:$},(0,t.ZP)()))),I={loading:(0,m.jsx)("div",{className:"loadingWrapper",children:(0,m.jsx)(o.Z,{},t.ZP)}),error:(0,m.jsxs)("div",{className:"loadingWrapper error",children:[(0,m.jsx)(d.Z,{}),(0,m.jsx)("h3",{children:"Error, try again"})]})},E=(a||s)&&0===u.length?null:(0,m.jsx)("div",{className:"charactersListContainer",children:S}),W=a?I.loading:null,B=s?I.error:null;return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:"charactersListWrapper",children:[B,E,W,(0,m.jsx)("div",{className:"longButContainer",children:(0,m.jsx)(l.Z,{value:"load more",click:()=>y(p+9),disabled:a,background:"Red",classList:"longBut "+(v?"hidden":"")})})]})})}var v=s(3504);function N(e){const{name:a,link:s}=e,r=s.match(/[0-9]{1,}$/gm)[0];return(0,m.jsx)("div",{className:"comicsWrapper",children:(0,m.jsx)(v.rU,{to:`/comics/${r}`,children:a})})}function b(e){return(0,m.jsxs)("div",{className:"skeletonWrapper",children:[(0,m.jsx)("h3",{className:"skeletonHeader",children:"Please select a character to see information"}),(0,m.jsxs)("div",{className:"skeletonContainer",children:[(0,m.jsxs)("div",{className:"skeletonChar",children:[(0,m.jsx)("div",{className:"skeletonRound"}),(0,m.jsx)("div",{className:"skeletonEmptyHeader"})]}),(0,m.jsx)("div",{className:"skeletonComics"}),(0,m.jsx)("div",{className:"skeletonComics"}),(0,m.jsx)("div",{className:"skeletonComics"})]})]})}function f(e){const[a,s]=(0,n.useState)(null),{loading:r,error:c,getCharacter:t}=(0,h.Z)();(0,n.useEffect)((()=>{e.charId&&t(e.charId).then((e=>s(e)))}),[e.charId]);const i=a||r||c?null:(0,m.jsx)(b,{}),l=c?(0,m.jsx)(d.Z,{}):null,u=r?(0,m.jsx)(o.Z,{}):null,x=c||r||!a?null:k(a);return(0,m.jsxs)("div",{className:"characterDescriptionMainWrapper",children:[i,l,u,x]})}const k=e=>{const{name:a,description:s,thumbnail:r,homepage:n,wiki:c,comics:i}=e,o=i.map(((e,a)=>a>9?null:(0,m.jsx)(N,{name:e.name,link:e.resourceURI},(0,t.ZP)()))),d=(0,m.jsx)("div",{className:"emptyComics",children:"No comics found"}),h=0===o.length?d:o;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"characterDescriptionWrapper",children:[(0,m.jsxs)("div",{className:"characterDescriptionContainer",children:[(0,m.jsx)("img",{src:r,alt:a}),(0,m.jsxs)("div",{children:[(0,m.jsx)("h3",{className:"characterDescriptionHeader",children:a}),(0,m.jsxs)("div",{className:"characterDescriptionButsContainer",children:[(0,m.jsx)(l.Z,{value:"homepage",link:n,background:"Red"}),(0,m.jsx)(l.Z,{value:"wiki",link:c,background:"Grey"})]})]})]}),(0,m.jsx)("div",{children:(0,m.jsx)("p",{children:s})})]}),(0,m.jsxs)("div",{className:"comicsListWrapper",children:[(0,m.jsx)("h4",{className:"comicsHeader",children:"Comics:"}),(0,m.jsx)("div",{className:"comicsListContainer",children:h})]})]})};var C=s(1724),$=s(5705);function Z(){const{loading:e,getCharacterByName:a}=(0,h.Z)(),[s,r]=(0,n.useState)(null);return(0,m.jsxs)("div",{className:"charSearchWrapper",children:[(0,m.jsx)("h3",{className:"charSearchHeader",children:"Or find a character by name:"}),(0,m.jsx)($.J9,{initialValues:{charName:""},validationSchema:C.Ry({charName:C.Z_().min(2,"Too short name").required("Required field")}),onSubmit:e=>(async e=>{const s=await a(e);r(s)})(e.charName),children:(0,m.jsxs)($.l0,{children:[(0,m.jsxs)("div",{className:"charSearchForm",children:[(0,m.jsx)($.gN,{className:"charSearchInput",type:"text",name:"charName",id:"charName",placeholder:"Enter Name"}),(0,m.jsx)(l.Z,{value:"FIND",background:"Red",disabled:e,type:"submit"})]}),(0,m.jsx)($.Bc,{className:"errorChar",component:"div",name:"charName"}),null===s?null:!1===s?(0,m.jsx)("div",{className:"errorChar",children:"The character was not found. Check the name and try again"}):(0,m.jsxs)("div",{className:"successCharWrapper",children:[(0,m.jsx)("div",{className:"successChar",children:`There is! Visit ${s.name} page?`}),(0,m.jsx)(v.rU,{className:"successChar",to:`/character/${s.id}`,children:(0,m.jsx)(l.Z,{value:"TO PAGE",background:"Grey"})})]})]})})]})}var y=s(9215);function w(){const[e,a]=(0,n.useState)(null);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(c.B6,{children:(0,m.jsxs)(c.ql,{children:[(0,m.jsx)("meta",{name:"description",content:"Marvel Database"}),(0,m.jsx)("title",{children:"Marvel Database"})]})}),(0,m.jsx)(y.Z,{children:(0,m.jsx)(u,{})}),(0,m.jsxs)("div",{className:"flex-row mainContainer",children:[(0,m.jsx)(y.Z,{children:(0,m.jsx)(g,{onCharSelect:e=>{a(e)}})}),(0,m.jsxs)("div",{className:"rightMainContent",children:[(0,m.jsx)(y.Z,{children:(0,m.jsx)(f,{charId:e})}),(0,m.jsx)(y.Z,{children:(0,m.jsx)(Z,{})})]})]}),(0,m.jsx)("img",{src:r,className:"visionBg",alt:"vision bg"})]})}},6126:(e,a,s)=>{s.d(a,{Z:()=>n});var r=s(2791);function n(){const{loading:e,error:a,request:s,clearErrors:n}=(()=>{const[e,a]=(0,r.useState)(!1),[s,n]=(0,r.useState)(null);return{loading:e,error:s,request:(0,r.useCallback)((async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{"Content-Type":"application/json"};a(!0);try{const n=await fetch(e,{method:s,body:r,headers:c});if(!n.ok)throw new Error(`Couldnt fetch (${e}), status: ${n.status}`);const t=n.json();return a(!1),t}catch(t){throw a(!1),n(t.message),t}}),[]),clearErrors:(0,r.useCallback)((()=>n(null)),[])}})(),c="https://gateway.marvel.com:443/v1/public/",t="apikey=36f1abc750cc1a335225f4c72681de4e",i=e=>({name:e.name,id:e.id,description:e.description?e.description:"No description",thumbnail:`${e.thumbnail.path}.${e.thumbnail.extension}`,homepage:e.urls[0].url,wiki:e.urls[1].url,comics:e.comics.items}),l=e=>{const{id:a,title:s,thumbnail:r,pageCount:n,description:c,prices:t,textObjects:i}=e;return{id:a,title:s,thumbnail:`${r.path}.${r.extension}`,pageCount:n?`${n} pages`:"No information about pages",description:c||"No description",language:i[0]?i[0].language:"no information",price:t[0].price?`${t[0].price}$`:"Not available"}};return{loading:e,error:a,setMaxChars:async()=>(await s(`${c}characters?limit=1&${t}`)).data.total,getAllCharacters:async function(e){let a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(e||+e||e>0||e<=100)&&(a=`limit=${e}`);const n=await s(`${c}characters?${a}&offset=${r}&${t}`);return n.data.results.map((e=>i(e)))},getCharacter:async e=>{const a=await s(`${c}characters/${e}?${t}`);return i(a.data.results[0])},getCharacterByName:async e=>{console.log(e);const a=await s(`${c}characters?name=${e}&${t}`);return!!a.data.results[0]&&i(a.data.results[0])},getAllComics:async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=await s(`${c}comics?issueNumber=0&offset=${a}&limit=${e}&${t}`);return r.data.results.map((e=>l(e)))},getComic:async e=>{const a=await s(`${c}comics/${e}?${t}`);return l(a.data.results[0])},clearErrors:n}}},5551:(e,a,s)=>{e.exports=s.p+"static/media/404Error.47a8d543fe185d4f2e29.png"},4077:(e,a,s)=>{e.exports=s.p+"static/media/shield and hammer.439ab19cfabed7d9d9b8.png"},226:(e,a,s)=>{e.exports=s.p+"static/media/visionBg.8de497492999c5d20b03.png"}}]);
//# sourceMappingURL=27.c2a47229.chunk.js.map