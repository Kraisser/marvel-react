"use strict";(globalThis.webpackChunkmarvel_react=globalThis.webpackChunkmarvel_react||[]).push([[555],{3087:(e,t,r)=>{r.d(t,{Z:()=>a});var s=r(184);function a(e){const{value:t,type:r,background:a,link:n,click:c,disabled:i}=e,o=e.classList?e.classList:"",l=(0,s.jsx)("div",{className:`marvel${a}Back`,children:t}),d={button:(0,s.jsx)("button",{onClick:c,type:r||null,className:`commonBut back${a} ${o}`,children:l}),butDisabled:(0,s.jsx)("button",{onClick:c,className:`commonBut back${a} ${o}`,disabled:!0,children:l}),link:(0,s.jsx)("a",{href:n,target:"_blank",rel:"noreferrer",className:`commonBut back${a} ${o}`,children:l})},u=n?d.link:null,h=i?d.butDisabled:null,m=i||n?null:d.button;return(0,s.jsxs)(s.Fragment,{children:[u,m,h]})}},6837:(e,t,r)=>{r.d(t,{Z:()=>c});var s=r(8689),a=r(4124),n=r(184);function c(){return(0,n.jsxs)("div",{className:"bannerWrapper",children:[(0,n.jsx)("img",{src:s,alt:"avengers"}),(0,n.jsxs)("div",{className:"bannerHeadersWrapper",children:[(0,n.jsx)("h3",{className:"bannerHeader",children:"New comics Every week!"}),(0,n.jsx)("h3",{className:"bannerHeader",children:"Stay tuned!"})]}),(0,n.jsx)("img",{src:a,alt:"avengersLogo"})]})}},9215:(e,t,r)=>{r.d(t,{Z:()=>c});var s=r(2791),a=r(7454),n=r(184);class c extends s.Component{constructor(){super(...arguments),this.state={error:!1}}componentDidCatch(){this.setState({error:!0})}render(){return this.state.error?(0,n.jsx)(a.Z,{}):this.props.children}}},7454:(e,t,r)=>{r.d(t,{Z:()=>n});var s=r(5551),a=r(184);function n(){return(0,a.jsx)("img",{src:s,alt:"Error",style:{width:"100%"}})}},3555:(e,t,r)=>{r.r(t),r.d(t,{default:()=>f});r(1408);var s=r(2791),a=r(5044),n=r(3504),c=r(184);function i(e){const{thumbnail:t,title:r,price:s}=e;return(0,c.jsxs)("div",{className:"comicsItemWrapper",children:[(0,c.jsx)("img",{src:t,alt:r}),(0,c.jsx)("h4",{children:r}),(0,c.jsx)("span",{children:s})]})}var o=r(3087),l=r(7454),d=r(6126),u=r(6837),h=r(8684);function m(e,t,r){switch(console.log("process",e),e){case"waiting":return(0,c.jsx)("div",{className:"loadingWrapper",children:(0,c.jsx)(h.Z,{})});case"loading":return r.length>0?(0,c.jsx)("div",{className:"comicsItemsWrapper",children:(0,c.jsx)(t,{})}):(0,c.jsx)("div",{className:"loadingWrapper",children:(0,c.jsx)(h.Z,{})});case"success":return(0,c.jsx)("div",{className:"comicsItemsWrapper",children:(0,c.jsx)(t,{})});case"error":return(0,c.jsxs)("div",{className:"loadingWrapper error",children:[(0,c.jsx)(l.Z,{}),(0,c.jsx)("h3",{children:"Error, try again"})]});default:throw new Error("Unexpected process state")}}function p(){const{loading:e,getAllComics:t,clearErrors:r,process:l,setProcess:h}=(0,d.Z)(),[p,g]=(0,s.useState)([]),[x,f]=(0,s.useState)(0);(0,s.useEffect)((()=>{j()}),[]);const j=()=>{r(),t(8,x).then((e=>(e=>{g([...p,...e])})(e))).then((()=>h("success"))),f((e=>e+8))};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(u.Z,{}),(0,c.jsxs)("div",{children:[m(l,(()=>(e=>e.map((e=>(0,c.jsx)(n.rU,{to:`/comics/${e.id}`,children:(0,c.jsx)(i,{thumbnail:e.thumbnail,title:e.title,price:e.price})},(0,a.ZP)()))))(p)),p),(0,c.jsx)("div",{className:"loadButWrapper",onClick:j,children:(0,c.jsx)(o.Z,{value:"Load more",background:"Red",disabled:e})})]})]})}var g=r(9215),x=r(6907);function f(){return(0,c.jsxs)(g.Z,{children:[(0,c.jsx)(x.B6,{children:(0,c.jsxs)(x.ql,{children:[(0,c.jsx)("meta",{name:"description",content:"Comics list"}),(0,c.jsx)("title",{children:"Marvel Comics list"})]})}),(0,c.jsx)(p,{})]})}},6126:(e,t,r)=>{r.d(t,{Z:()=>a});var s=r(2791);function a(){const{loading:e,process:t,setProcess:r,request:a,clearErrors:n}=(()=>{const[e,t]=(0,s.useState)(!1),[r,a]=(0,s.useState)("waiting"),n=(0,s.useCallback)((async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{"Content-Type":"application/json"};t(!0),a("loading");try{const a=await fetch(e,{method:r,body:s,headers:n});if(!a.ok)throw new Error(`Couldnt fetch (${e}), status: ${a.status}`);const c=a.json();return t(!1),c}catch(c){throw t(!1),a("error"),c}}),[]),c=(0,s.useCallback)((()=>{a("loading")}),[]);return{loading:e,process:r,setProcess:a,request:n,clearErrors:c}})(),c="https://gateway.marvel.com:443/v1/public/",i="apikey=36f1abc750cc1a335225f4c72681de4e",o=e=>({name:e.name,id:e.id,description:e.description?e.description:"No description",thumbnail:`${e.thumbnail.path}.${e.thumbnail.extension}`,homepage:e.urls[0].url,wiki:e.urls[1].url,comics:e.comics.items}),l=e=>{const{id:t,title:r,thumbnail:s,pageCount:a,description:n,prices:c,textObjects:i}=e;return{id:t,title:r,thumbnail:`${s.path}.${s.extension}`,pageCount:a?`${a} pages`:"No information about pages",description:n||"No description",language:i[0]?i[0].language:"no information",price:c[0].price?`${c[0].price}$`:"Not available"}};return{loading:e,process:t,setProcess:r,clearErrors:n,setMaxChars:async()=>(await a(`${c}characters?limit=1&${i}`)).data.total,getAllCharacters:async function(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(e||+e||e>0||e<=100)&&(t=`limit=${e}`);const s=await a(`${c}characters?${t}&offset=${r}&${i}`);return s.data.results.map((e=>o(e)))},getCharacter:async e=>{const t=await a(`${c}characters/${e}?${i}`);return o(t.data.results[0])},getCharacterByName:async e=>{const t=await a(`${c}characters?name=${e}&${i}`);if(console.log(t),t.data.results[0])return o(t.data.results[0]);throw new Error("Character not found")},getAllComics:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=await a(`${c}comics?issueNumber=0&offset=${t}&limit=${e}&${i}`);return r.data.results.map((e=>l(e)))},getComic:async e=>{const t=await a(`${c}comics/${e}?${i}`);return l(t.data.results[0])}}}},5044:(e,t,r)=>{function s(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var a=s(r(2791)),n="id",c=0;function i(e){return c++,"".concat(e||n).concat(c)}var o=function(e,t){for(var r=[],s=0;s<e;s++)r.push(i(t));return r};function l(e){var t=a.default.useRef();return a.default.useEffect((function(){t.current=e})),t.current}t.ZP=i},1408:()=>{},5551:(e,t,r)=>{e.exports=r.p+"static/media/404Error.47a8d543fe185d4f2e29.png"},4124:(e,t,r)=>{e.exports=r.p+"static/media/Avengers logo.a0e4cca1091366da37c4.png"},8689:(e,t,r)=>{e.exports=r.p+"static/media/Avengers.539407e2a471db3a37c9.png"}}]);
//# sourceMappingURL=555.4a545ee4.chunk.js.map